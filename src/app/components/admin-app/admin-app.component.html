<!--
Copyright 2021 Carnegie Mellon University. All Rights Reserved.
Released under a MIT (SEI)-style license. See LICENSE.md in the project root for license information.
-->
<!-- SIDEBAR -->
<mat-sidenav-container class="appcontent-container background" autosize>
  <mat-sidenav
    class="appbarmenu-container"
    #sidenav
    mode="side"
    [opened]="true"
  >
    <mat-list class="appitems-container">
      <mat-list-item class="appslist">
        <a class="nolink" [routerLink]="['/']">
          <div fxLayout="row" fxLayoutAlign="start center">
            <mat-icon
              class="player-icon"
              svgIcon="ic_crucible_player"
            ></mat-icon>
            <h2 class="icon-text">Administration</h2>
          </div>
        </a>
        <mat-divider></mat-divider>
      </mat-list-item>
      <mat-list-item class="showhand highlight">
        <mat-icon
          class="lefticon player-icon-small"
          svgIcon="ic_crucible_player"
          (click)="sectionChangedFn(Section.ADMIN_VIEWS)"
        ></mat-icon>

        <div class="grow" (click)="sectionChangedFn(Section.ADMIN_VIEWS)">
          Views
        </div>

        <div class="righticon">
          <button
            class="right-icon"
            mat-icon-button
            (click)="sectionChangedFn(Section.ADMIN_VIEWS)"
          >
            <mat-icon
              svgIcon="ic_chevron_right_24px"
            ></mat-icon>
          </button>
        </div>
      </mat-list-item>
      <mat-list-item class="applist showhand highlight">
        <img
          class="lefticon"
          src="../../../assets/img/SP_Icon_User.png"
          alt="Users"
          (click)="sectionChangedFn(Section.ADMIN_USERS)"
        />

        <div class="grow" (click)="sectionChangedFn(Section.ADMIN_USERS)">
          Users
        </div>

        <div class="righticon">
          <button
            mat-icon-button
            style="outline: none;"
            (click)="sectionChangedFn(Section.ADMIN_USERS)"
          >
            <mat-icon svgIcon="ic_chevron_right_24px"></mat-icon>
          </button>
        </div>
      </mat-list-item>
      <mat-list-item class="showhand highlight">
        <img
          class="lefticon"
          src="../../../assets/img/SP_Icon_Intel.png"
          alt="Users"
          (click)="sectionChangedFn(Section.ADMIN_APP_TEMP)"
        />

        <div class="grow" (click)="sectionChangedFn(Section.ADMIN_APP_TEMP)">
          Application Templates
        </div>

        <div>
          <button
            mat-icon-button
            style="outline: none;"
            (click)="sectionChangedFn(Section.ADMIN_APP_TEMP)"
          >
            <mat-icon svgIcon="ic_chevron_right_24px"></mat-icon>
          </button>
        </div>
      </mat-list-item>
      <mat-list-item class="showhand highlight">
        <img
          class="lefticon"
          src="../../../assets/img/SP_Icon_Alert.png"
          alt="Users"
          (click)="sectionChangedFn(Section.ADMIN_ROLE_PERM)"
        />

        <div
          class="grow center-self"
          (click)="sectionChangedFn(Section.ADMIN_ROLE_PERM)"
        >
          Roles / Permissions
        </div>

        <div>
          <button
            mat-icon-button
            style="outline: none;"
            (click)="sectionChangedFn(Section.ADMIN_ROLE_PERM)"
          >
            <mat-icon svgIcon="ic_chevron_right_24px"></mat-icon>
          </button>
        </div>
      </mat-list-item>

      <mat-list-item class="showhand highlight">
        <img
          class="lefticon"
          src="../../../assets/img/subscription.png"
          alt="Subscriptions"
          (click)="sectionChangedFn(Section.ADMIN_SUBS)"
        />

        <div
          class="grow center-self"
          (click)="sectionChangedFn(Section.ADMIN_SUBS)"
        >
          Subscriptions
        </div>

        <div>
          <button
            mat-icon-button
            style="outline: none;"
            (click)="sectionChangedFn(Section.ADMIN_SUBS)"
          >
            <mat-icon svgIcon="ic_chevron_right_24px"></mat-icon>
          </button>
        </div>
      </mat-list-item>
    </mat-list>
    <img
      class="crucible-logo"
      [src]="
        (theme$ | async) === 'light-theme'
          ? '/assets/img/crucible-logo-light.png'
          : '/assets/img/crucible-logo-dark.png'
      "
    />
  </mat-sidenav>
  <!-- MAIN CONTENT -->
  <mat-sidenav-content>
    <app-topbar
      [topbarColor]="topbarColor"
      [topbarTextColor]="topbarTextColor"
      [topbarView]="TopbarView.PLAYER_ADMIN"
      [title]="title"
    ></app-topbar>

    <div [ngSwitch]="section$ | async">
      <app-admin-view-search
        *ngSwitchCase="Section.ADMIN_VIEWS"
        fxFlex
        fxLayoutAlign="center"
      ></app-admin-view-search>

      <app-admin-user-search
        *ngSwitchCase="Section.ADMIN_USERS"
        fxFlex
        fxLayoutAlign="center"
      ></app-admin-user-search>

      <app-admin-app-template-search
        *ngSwitchCase="Section.ADMIN_APP_TEMP"
        fxFlex
        fxLayoutAlign="center"
      ></app-admin-app-template-search>
      <app-admin-role-permission-search
        *ngSwitchCase="Section.ADMIN_ROLE_PERM"
        fxFlex
        fxLayoutAlign="center"
      ></app-admin-role-permission-search>

      <app-admin-subscription-search
        *ngSwitchCase="Section.ADMIN_SUBS"
        fxFlex
        fxLayoutAlign = "center"
      ></app-admin-subscription-search>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
