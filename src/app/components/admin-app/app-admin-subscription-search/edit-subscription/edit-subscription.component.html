<!--
Copyright 2021 Carnegie Mellon University. All Rights Reserved.
Released under a MIT (SEI)-style license. See LICENSE.md in the project root for license information.
-->
<h3>{{currentSubId === undefined ? 'Add Subscription' : 'Edit Subscription'}}</h3>
<form [formGroup]="form" (ngSubmit)="onSubmit()">
	<mat-form-field fxLayout="row">
		<mat-label>Name</mat-label>
		<input type="text" matNativeControl formControlName="name">
	</mat-form-field>
	<mat-form-field fxLayout="row">
		<mat-label>Callback URL</mat-label>
		<input type="text" matNativeControl formControlName="callback">
	</mat-form-field>
	<mat-form-field fxLayout="row">
		<mat-label>Client ID</mat-label>
		<input type="text" matNativeControl formControlName="clientId">
	</mat-form-field>
	<mat-form-field fxLayout="row">
		<mat-label>Client Secret</mat-label>
		<input type="text" matNativeControl formControlName="clientSecret">
	</mat-form-field>
	<mat-form-field fxLayout="row">
		<mat-label>Events</mat-label>
		<!-- These should probably be generated from the server. Doing this for now to get it working -->
		<mat-select multiple matNativeControl formControlName="events">
			<mat-option *ngFor="let e of eventTypes" [value]="e">{{e}}</mat-option>
		</mat-select>
	</mat-form-field>
	<div fxLayout="row" fxLayoutAlign="space-around center">
		<button mat-flat-button color="primary" type="submit">
			Save
		</button>
		<button mat-flat-button color="primary" type="button" (click)="onDelete()">
			Delete
		</button>
	</div>
</form>